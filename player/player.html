<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Audio Player</title>
  <!-- Plyr CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.plyr.io/3.7.8/plyr.css"
  />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      background: transparent;
    }
    .plyr {
      --plyr-color-main: #075e54; /* cor verde WhatsApp */
    }
    /* Estilo do container imitando WhatsApp */
    .whatsapp-player {
      background: #f0f0f0;
      border-radius: 9999px;
      padding: 6px 12px;
      box-sizing: border-box;
      width: 100%;
      max-width: 400px;
    }
    .whatsapp-player .plyr__controls {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 0;
      margin: 0;
    }
    .whatsapp-player .plyr__control--overlaid {
      display: none;
    }
    .whatsapp-player .plyr__progress__container {
      flex: 1;
      height: 4px;
      background: #ffffff;
      border-radius: 2px;
      overflow: hidden;
    }
    .whatsapp-player .plyr__progress--played {
      background: #075e54;
    }
    .whatsapp-player .plyr__time {
      font-size: 12px;
      color: #000;
    }
    /* Oculta controles desnecessários (volume, fullscreen) */
    .whatsapp-player .plyr__control.plyr__control--mute,
    .whatsapp-player .plyr__control.plyr__control--fullscreen {
      display: none;
    }
    /* Oculta controle de volume no desktop para manter consistência */
    .whatsapp-player .plyr__volume {
      display: none !important;
    }
  </style>
</head>
<body>
  <!-- O áudio a tocar; o atributo src virá por query string -->
  <audio id="audio" controls></audio>

  <!-- Plyr JS -->
  <script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
  <script>
    // Pega o parâmetro ?src=URL_DO_AUDIO.mp3
    const params = new URLSearchParams(window.location.search);
    const src = params.get('src');
    if (src) {
      const audio = document.getElementById('audio');
      audio.src = src;
      // Inicializa o player Plyr
      const playerInstance = new Plyr(audio, {
        controls: ['play', 'progress', 'current-time']
      });
      // Adiciona classe para estilização estilo WhatsApp
      audio.closest('.plyr').classList.add('whatsapp-player');
    } else {
      document.body.textContent = 'Nenhum áudio fornecido.';
    }
  </script>
</body>
</html>